:root{
  --bg: #081226;
  --panel: #071029;
  --accent1: #ff5acd;
  --accent2: #00d4ff;
  --accent3: #7c3aed;
  --muted: #94a3b8;
  --cell-bg: #091424;
  --success: #4ade80;
  --danger: #fb7185;
}

*{box-sizing:border-box}
body{margin:0;background:linear-gradient(180deg,#041027 0%, #020617 100%);color:#e6eef8;font-family:Inter,system-ui,Roboto,Arial}

.app-shell{max-width:1200px;margin:20px auto;padding:20px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}

.header{display:flex;justify-content:space-between;align-items:flex-start;gap:18px;margin-bottom:16px}
.header h1{margin:0}
.meta{font-size:13px;color:var(--muted)}
.meta.small{font-size:12px;color:#9bb;margin-top:6px}

/* progress bars */
.progress-row{margin-top:8px;margin-bottom:6px}
.progress-label{font-size:12px;color:var(--muted);margin-bottom:6px}
.progress{background:#072033;border-radius:8px;height:10px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent1),var(--accent2));width:0;transition:width 400ms ease}
.progress-fill.verify{background:linear-gradient(90deg,#ffd166,#ef476f)}

/* controls */
.controls{display:flex;gap:10px;align-items:center}
.controls select, .controls button{background:linear-gradient(180deg,#071021,#051120);border:1px solid rgba(255,255,255,0.04);color:inherit;padding:8px 10px;border-radius:8px}

/* main layout */
main{display:flex;gap:18px;align-items:flex-start}
.board-area{flex:1}
.aside-anim{width:320px}
.anim-card{background:linear-gradient(180deg,#07111b,#04101a);border-radius:12px;padding:18px;display:flex;flex-direction:column;align-items:center;gap:14px;min-height:220px;justify-content:center;border:1px solid rgba(255,255,255,0.03)}
.spin-svg{width:140px;height:140px}
.orbit{transform-origin:50% 50%;animation: orbit 5s linear infinite}
@keyframes orbit{from{transform:rotate(0deg)} to{transform:rotate(360deg)}}
.anim-text{font-size:13px;color:var(--muted)}

/* board */
.board-wrap{display:flex;flex-direction:column;align-items:center}
.top-row{display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:8px}
.info{display:flex;gap:12px;color:var(--muted)}
.actions{display:flex;gap:8px}

.board{display:grid;grid-template-rows:repeat(9,62px);gap:0;padding:12px;border-radius:14px;border:4px solid transparent;border-image:linear-gradient(90deg,var(--accent1),var(--accent2),var(--accent3)) 1}
.row{display:grid;grid-template-columns:repeat(9,62px);gap:6px}

/* cells */
.cell{width:62px;height:62px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;font-size:22px;cursor:pointer;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));color:#e8f0ff}
.cell.prefilled{color:#cbd5e1;font-weight:700}
.cell.selected{transform:translateY(-6px);box-shadow:0 16px 50px rgba(0,0,0,0.6);outline:4px solid rgba(124,58,237,0.14)}
.cell-value{user-select:none}

/* bold separators between 3x3 blocks */
.row > .cell:nth-child(3n){border-right:4px solid rgba(255,255,255,0.06)}
.row:nth-child(3n) .cell{border-bottom:4px solid rgba(255,255,255,0.06)}

/* colorful box tints â€” applied via classes in Cell */
.box-tint-a{background:linear-gradient(180deg, rgba(255,90,170,0.03), rgba(124,58,237,0.01))}
.box-tint-b{background:linear-gradient(180deg, rgba(0,212,255,0.02), rgba(6,182,212,0.005))}

/* shake animation */
@keyframes shakeX{0%{transform:translateX(0)}20%{transform:translateX(-8px)}40%{transform:translateX(8px)}60%{transform:translateX(-5px)}80%{transform:translateX(5px)}100%{transform:translateX(0)}}
.cell.shake{animation:shakeX 420ms ease-in-out}

/* numpad */
.numpad{display:flex;gap:8px;flex-wrap:wrap;max-width:480px;justify-content:center;margin-top:12px}
.numpad button{padding:10px 14px;border-radius:8px;border:none;background:linear-gradient(180deg,#0b1726,#081424);color:inherit;min-width:52px;box-shadow:0 6px 18px rgba(0,0,0,0.45)}

/* locks in stage select */
select option:disabled { color: #888 !important; }

/* modal styles (score breakdown) */
.modal-backdrop{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(3,6,12,0.6);display:flex;align-items:center;justify-content:center;z-index:999}
.modal{background:#071020;padding:18px;border-radius:10px;min-width:520px;max-width:90%;box-shadow:0 20px 60px rgba(0,0,0,0.7);border:1px solid rgba(255,255,255,0.04)}
.modal h3{margin:0 0 12px 0}
.modal-body{max-height:60vh;overflow:auto}
.breakdown-table{width:100%;border-collapse:collapse}
.breakdown-table th, .breakdown-table td{padding:8px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.03)}
.modal-total{margin-top:8px;font-size:16px;text-align:right}

/* status text */
.status{margin-top:12px;text-align:center;color:var(--muted)}

/* responsive */
@media (max-width:900px){main{flex-direction:column}.aside-anim{width:100%}.row{grid-gap:6px}}
